import os
import json

class Config:
    # –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
    TELEGRAM_TOKEN = os.environ.get('TELEGRAM_TOKEN', '')
    
    # VK –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    VK_GROUP_TOKEN = os.environ.get('VK_GROUP_TOKEN', '')
    VK_GROUP_ID = os.environ.get('VK_GROUP_ID', '')
    VK_CONFIRMATION_CODE = os.environ.get('VK_CONFIRMATION_CODE', '')
    VK_SECRET_KEY = os.environ.get('VK_SECRET_KEY', '')
    
    # ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ (—Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—è—Ç—ã–º–∏)
    ADMIN_IDS = [int(x) for x in os.environ.get('ADMIN_IDS', '').split(',') if x]
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    DATABASE_URL = os.environ.get('DATABASE_URL', 'sqlite:///bot.db')
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
    PORT = int(os.environ.get('PORT', 10000))
    HOST = os.environ.get('HOST', '0.0.0.0')
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    LOG_LEVEL = os.environ.get('LOG_LEVEL', 'INFO')
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
    BOT_SETTINGS = {
        "max_history": 10,
        "typing_delay": 0.5
    }

    # –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô - –≤—Å–µ –æ—Ç–≤–µ—Ç—ã –±–æ—Ç–∞
    KNOWLEDGE_BASE = {
        "start": {
            "text": "üëã –ü—Ä–∏–≤–µ—Ç! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –§–æ—Ç–æ–¢–æ—á–∫–∞! üì∏\n\n–ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?",
            "keyboard": "main"
        },
        "help": {
            "text": "ü§ñ –Ø –±–æ—Ç –§–æ—Ç–æ–¢–æ—á–∫–∞! –í–æ—Ç —á—Ç–æ —è —É–º–µ—é:\n\n"
                    "üì∏ –†–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ\n"
                    "üñºÔ∏è –ü–µ—á–∞—Ç—å —Ñ–æ—Ç–æ —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤\n"
                    "üí∞ –£—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω—ã\n"
                    "üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –∞–¥—Ä–µ—Å\n\n"
                    "–ü—Ä–æ—Å—Ç–æ –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –ø—É–Ω–∫—Ç –≤ –º–µ–Ω—é!",
            "keyboard": "main"
        },
        "—É—Å–ª—É–≥": {
            "text": "üí∞ <b>–£—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω—ã</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â—É—é –≤–∞—Å —É—Å–ª—É–≥—É:",
            "keyboard": "services"
        },
        "—Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü": {
            "text": "üñºÔ∏è <b>–†–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ</b>\n\n"
                    "–ú—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏:\n"
                    "‚Ä¢ –£–¥–∞–ª–µ–Ω–∏–µ —Ü–∞—Ä–∞–ø–∏–Ω –∏ –ø—è—Ç–µ–Ω\n"
                    "‚Ä¢ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞\n"
                    "‚Ä¢ –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞\n"
                    "‚Ä¢ –†–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —É—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤\n\n"
                    "<b>–¶–µ–Ω—ã:</b>\n"
                    "‚ú¥Ô∏è –ë–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç:
—É–¥–∞–ª–µ–Ω–∏–µ —Ü–∞—Ä–∞–ø–∏–Ω, –ø—è—Ç–µ–Ω, —Ü–≤–µ—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è ‚Äî –¥–ª—è –æ–¥–Ω–æ–π —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ - 350—Ä.
¬∑ ‚ú¶‚Ä¢¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚Ä¢‚ú¶‚Ä¢¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚Ä¢‚ú¶
‚ú¥Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ø–∞–∫–µ—Ç:
–ø–æ–ª–Ω–∞—è —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è + —É–≤–µ–ª–∏—á–µ–Ω–∏–µ + —Ü–≤–µ—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è- 450—Ä.
¬∑ ‚ú¶‚Ä¢¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚Ä¢‚ú¶‚Ä¢¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑‚Ä¢‚ú¶
‚ú¥Ô∏è –ü–∞–∫–µ—Ç ¬´–°–µ–º—å—è¬ª:
—Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è 5‚Äì10 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –ø–æ –≤—ã–≥–æ–¥–Ω–æ–π —Ü–µ–Ω–µ- 300—Ä-400—Ä. –∑–∞ —à—Ç—É–∫—É."
                    "–î–ª—è –∑–∞–∫–∞–∑–∞ –ø—Ä–∏—à–ª–∏—Ç–µ —Ñ–æ—Ç–æ –∏ –æ–ø–∏—à–∏—Ç–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å.",
            "keyboard": "services"
        },
        "–≥–µ–Ω–µ—Ä–∞—Ü": {
            "text": "ü§ñ <b>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ</b>\n\n"
                   "–°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Å –ø–æ–º–æ—â—å—é AI:\n"
                   "‚Ä¢ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é\n"
                   "‚Ä¢ –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ –∂–∞–Ω—Ä—ã\n"
                   "‚Ä¢ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–ª–∞–∂–µ–π –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–π\n"
                   "‚Ä¢ –ê—Ä—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π\n\n"
                   "<b>–¶–µ–Ω—ã:</b>\n"
                   "‚Ä¢ –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è - 300 —Ä—É–±.\n"
                   "‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è - 600 —Ä—É–±.\n"
                   "‚Ä¢ –ü–∞–∫–µ—Ç –∏–∑ 5 —Ñ–æ—Ç–æ - 1200 —Ä—É–±.\n\n"
                   "–û–ø–∏—à–∏—Ç–µ, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å, –∏ –º—ã —Å–æ–∑–¥–∞–¥–∏–º –¥–ª—è –≤–∞—Å —É–Ω–∏–∫–∞–ª—å–Ω–æ–µ —Ñ–æ—Ç–æ!",
            "keyboard": "services"
        },
        "—Ö–æ–ª—Å—Ç": {
            "text": "üé® <b>–ü–µ—á–∞—Ç—å –Ω–∞ —Ö–æ–ª—Å—Ç–µ</b>\n\n"
                   "–°–æ–∑–¥–∞–µ–º –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ prints –Ω–∞ —Ö–æ–ª—Å—Ç–µ:\n"
                   "‚Ä¢ –†–∞–∑–ª–∏—á–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã\n"
                   "‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–µ—á–∞—Ç—å\n"
                   "‚Ä¢ –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –≤ –±–∞–≥–µ—Ç\n"
                   "‚Ä¢ –î–æ—Å—Ç–∞–≤–∫–∞ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞\n\n"
                   "<b>–¶–µ–Ω—ã:</b>\n"
                   "‚Ä¢ 30√ó40 —Å–º - 1500 —Ä—É–±.\n"
                   "‚Ä¢ 40√ó60 —Å–º - 2500 —Ä—É–±.\n"
                   "‚Ä¢ 50√ó70 —Å–º - 3500 —Ä—É–±.\n"
                   "‚Ä¢ 60√ó80 —Å–º - 4500 —Ä—É–±.\n\n"
                   "–ü—Ä–µ–≤—Ä–∞—Ç–∏–º –≤–∞—à–µ —Ñ–æ—Ç–æ –≤ –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∏—Å–∫—É—Å—Å—Ç–≤–∞!",
            "keyboard": "services"
        },
        "–º–µ—Ç—Ä–∏–∫": {
            "text": "üìê <b>–ú–µ—Ç—Ä–∏–∫–∞</b>\n\n"
                  "–§–æ—Ç–æ—Å–µ—Å—Å–∏–∏ –¥–ª—è –Ω–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã—Ö –∏ –¥–µ—Ç–µ–π:\n"
                  "‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—ä–µ–º–∫–∞\n"
                  "‚Ä¢ –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–∫–æ—Ä–∞—Ü–∏–∏\n"
                  "‚Ä¢ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è\n"
                  "‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ä–µ—Ç—É—à—å\n\n"
                  "<b>–¶–µ–Ω—ã:</b>\n"
                  "‚Ä¢ –ë–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç (10 —Ñ–æ—Ç–æ) - 3000 —Ä—É–±.\n"
                  "‚Ä¢ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–∞–∫–µ—Ç (20 —Ñ–æ—Ç–æ) - 5000 —Ä—É–±.\n"
                  "‚Ä¢ –ü—Ä–µ–º–∏—É–º –ø–∞–∫–µ—Ç (30 —Ñ–æ—Ç–æ + –≤–∏–¥–µ–æ) - 8000 —Ä—É–±.\n\n"
                  "–°–æ—Ö—Ä–∞–Ω–∏–º —Å–∞–º—ã–µ —Ç—Ä–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã!",
            "keyboard": "services"
        },
        "–ø–µ—á–∞—Ç—å": {
            "text": "üñºÔ∏è <b>–ü–µ—á–∞—Ç—å —Ñ–æ—Ç–æ</b>\n\n"
                   "–ü–µ—á–∞—Ç–∞–µ–º —Ñ–æ—Ç–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–∞–∑–º–µ—Ä–æ–≤:\n"
                   "‚Ä¢ 10√ó15 —Å–º - 50 —Ä—É–±.\n"
                   "‚Ä¢ 15√ó20 —Å–º - 80 —Ä—É–±.\n"
                   "‚Ä¢ 20√ó30 —Å–º - 120 —Ä—É–±.\n"
                   "‚Ä¢ A4 - 150 —Ä—É–±.\n\n"
                   "–î–ª—è –∑–∞–∫–∞–∑–∞ –ø—Ä–∏—à–ª–∏—Ç–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏!",
            "keyboard": "main"
        },
        "–∫–æ–Ω—Ç–∞–∫—Ç": {
            "text": "üìû <b>–ö–æ–Ω—Ç–∞–∫—Ç—ã</b>\n\n"
                   "üìç <b>–ê–¥—Ä–µ—Å:</b>\n–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 123\n\n"
                   "üïí <b>–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:</b>\n–ü–Ω-–ü—Ç: 9:00-20:00\n–°–±-–í—Å: 10:00-18:00\n\n"
                   "üì± <b>–¢–µ–ª–µ—Ñ–æ–Ω:</b>\n+7 (999) 123-45-67\n\n"
                   "‚úâÔ∏è <b>Email:</b>\nfototo4ka@example.com",
            "keyboard": "main"
        },
        "—Ü–µ–Ω–∞": {
            "text": "üí∞ <b>–ù–∞—à–∏ —Ü–µ–Ω—ã</b>\n\n"
                   "üì∏ <b>–†–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è:</b>\n"
                   "‚Ä¢ –ë–∞–∑–æ–≤–∞—è —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è - 500 —Ä—É–±.\n"
                   "‚Ä¢ –°–ª–æ–∂–Ω–∞—è —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è - –æ—Ç 1000 —Ä—É–±.\n"
                   "‚Ä¢ –ö–æ–ª–æ—Ä–∏–∑–∞—Ü–∏—è - –æ—Ç 1500 —Ä—É–±.\n\n"
                   "üñºÔ∏è <b>–ü–µ—á–∞—Ç—å —Ñ–æ—Ç–æ:</b>\n"
                   "‚Ä¢ 10√ó15 —Å–º - 50 —Ä—É–±.\n"
                   "‚Ä¢ 15√ó20 —Å–º - 80 —Ä—É–±.\n"
                   "‚Ä¢ 20√ó30 —Å–º - 120 —Ä—É–±.\n"
                   "‚Ä¢ A4 - 150 —Ä—É–±.\n\n"
                   "üé® <b>–ü–µ—á–∞—Ç—å –Ω–∞ —Ö–æ–ª—Å—Ç–µ:</b>\n"
                   "‚Ä¢ 30√ó40 —Å–º - 1500 —Ä—É–±.\n"
                   "‚Ä¢ 40√ó60 —Å–º - 2500 —Ä—É–±.\n"
                   "‚Ä¢ 50√ó70 —Å–º - 3500 —Ä—É–±.\n\n"
                   "ü§ñ <b>–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ:</b>\n"
                   "‚Ä¢ –ë–∞–∑–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è - 300 —Ä—É–±.\n"
                   "‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è - 600 —Ä—É–±.\n\n"
                   "üìê <b>–ú–µ—Ç—Ä–∏–∫–∞:</b>\n"
                   "‚Ä¢ –ë–∞–∑–æ–≤—ã–π –ø–∞–∫–µ—Ç - 3000 —Ä—É–±.\n"
                   "‚Ä¢ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π - 5000 —Ä—É–±.",
            "keyboard": "main"
        },
        "–Ω–µ–ø–æ–Ω—è—Ç–Ω–æ": {
            "text": "‚ùå –ù–µ –ø–æ–Ω–∏–º–∞—é –∑–∞–ø—Ä–æ—Å. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.",
            "keyboard": "main"
        }
    }

    # –ö–õ–ê–í–ò–ê–¢–£–†–´ VK
    KEYBOARDS = {
        "main": {
            "one_time": False,
            "buttons": [
                [
                    {
                        "action": {
                            "type": "text",
                            "label": "üì∏ –†–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ"
                        },
                        "color": "primary"
                    },
                    {
                        "action": {
                            "type": "text", 
                            "label": "üñºÔ∏è –ü–µ—á–∞—Ç—å —Ñ–æ—Ç–æ"
                        },
                        "color": "primary"
                    }
                ],
                [
                    {
                        "action": {
                            "type": "text",
                            "label": "üí∞ –£—Å–ª—É–≥–∏ –∏ —Ü–µ–Ω—ã"
                        },
                        "color": "secondary"
                    },
                    {
                        "action": {
                            "type": "text",
                            "label": "üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã"
                        },
                        "color": "secondary"
                    }
                ],
                [
                    {
                        "action": {
                            "type": "text",
                            "label": "‚ÑπÔ∏è –ü–æ–º–æ—â—å"
                        },
                        "color": "positive"
                    }
                ]
            ]
        },
        "services": {
            "one_time": False,
            "buttons": [
                [
                    {
                        "action": {
                            "type": "text",
                            "label": "üñºÔ∏è –†–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è"
                        },
                        "color": "primary"
                    },
                    {
                        "action": {
                            "type": "text",
                            "label": "ü§ñ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ"
                        },
                        "color": "primary"
                    }
                ],
                [
                    {
                        "action": {
                            "type": "text", 
                            "label": "üé® –ü–µ—á–∞—Ç—å –Ω–∞ —Ö–æ–ª—Å—Ç–µ"
                        },
                        "color": "primary"
                    },
                    {
                        "action": {
                            "type": "text",
                            "label": "üìê –ú–µ—Ç—Ä–∏–∫–∞"
                        },
                        "color": "primary"
                    }
                ],
                [
                    {
                        "action": {
                            "type": "text",
                            "label": "üîô –ù–∞–∑–∞–¥"
                        },
                        "color": "negative"
                    }
                ]
            ]
        }
    }

# –°–æ–∑–¥–∞–µ–º —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
config = Config()

